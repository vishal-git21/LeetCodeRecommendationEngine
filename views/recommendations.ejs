<!DOCTYPE html>
<html>
<head>
  <title>Recommendations for <%= username %></title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .container { max-width: 800px; margin: auto; }
    .section { margin-bottom: 40px; }
    .section h2 { border-bottom: 1px solid #ccc; padding-bottom: 10px; }
    table { width: 100%; border-collapse: collapse; border: 1px solid black; }
    th, td { padding: 10px; border: 1px solid black; text-align: left; }
    th { background-color: #fdc10b; }
  </style>
</head>
<body>
  <div class="container">
    <div class="section">
      <h2>Recent Submissions</h2>
      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Title</th>
            <th>Timestamp</th>
          </tr>
        </thead>
        <tbody>
          <% submissions.forEach(submission => { %>
            <tr>
              <td><%= submission.id %></td>
              <td><%= submission.title %></td>
              <td><%= new Date(submission.timestamp * 1000).toLocaleString() %></td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
    <div class="section">
      <h2>Recommended Problems</h2>
      <table>
        <thead>
          <tr>
            <th>Title</th>
            <th>Difficulty</th>
            <th>Total Accepted</th>
            <th>Total Submitted</th>
            <th>Similarity</th>
          </tr>
        </thead>
        <tbody>
          <% recommendations.forEach(recommendation => { %>
            <tr>
              <td><%= recommendation.title %></td>
              <td><%= recommendation.difficulty %></td>
              <td><%= recommendation.total_acs %></td>
              <td><%= recommendation.total_submitted %></td>
              <td><%= (recommendation.similarity * 100).toFixed(2) %>%</td>
            </tr>
          <% }) %>
        </tbody>
      </table>
    </div>
  </div>
</body>
</html>
